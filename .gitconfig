[core]
attributesfile = .gitattributes

[filter "redact-env"]
	clean = sed -E \
		-e 's/^IP_DOMAIN=.*/IP_DOMAIN=example.com/g' \
		-e 's/192\\.168\\.[0-9]+\\.[0-9]+/192.168.XXX.XXX/g' \
		-e 's/^APP_KEY=.*/APP_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/g'
	smudge = cat

[filter "redact-compose"]
	clean = sed -E \
		-e 's/192\\.168\\.[0-9]+\\.[0-9]+/192.168.XXX.XXX/g'
	smudge = cat
	
[filter "redact-wings-config"]
	clean = sed -E \
		-e 's/^uuid: .*/uuid: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/g' \
		-e 's/^token_id: .*/token_id: XXXXXXXXXXXXXXXX/g' \
		-e 's/^token: .*/token: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/g' \
		-e 's/port: [0-9]+/port: XXXX/g' \
        -e 's/live\\/[^/]*\\/(.*).pem/live\\/fqdn.example.com\\/\\1.pem/g' \
        -e 's|^remote: .*|remote: https://fqdn.example.com|g'
	smudge = cat