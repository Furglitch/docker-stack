[core]
attributesfile = .gitattributes

[filter "redact-env"]
	clean = sed -E \
		-e 's/^IP_DOMAIN=.*/IP_DOMAIN=example.com/g' \
		-e 's/192\\.168\\.[0-9]+\\.[0-9]+/192.168.XXX.XXX/g' \
		-e 's/^MYSQL_USER=.*/MYSQL_USER=USER/g' \
		-e 's/^MYSQL_PASSWORD=.*/MYSQL_PASSWORD=PASSWORD/g' \
		-e 's/^GLUETUN_PROVIDER=.*/GLUETUN_PROVIDER=PROVIDER/g' \
		-e 's/^GLUETUN_TYPE=.*/GLUETUN_TYPE=TYPE/g' \
		-e 's/^GLUETUN_KEY=.*/GLUETUN_KEY=VPN-KEY/g'
	smudge = cat

[filter "redact-recyclarr"]
	clean = sed -E \
		-e 's|api_key: .*|api_key: API_KEY|g' \
		-e 's/192\\.168\\.[0-9]+\\.[0-9]+/192.168.XXX.XXX/g'
	smudge = cat

[filter "redact-homepage"]
	clean = sed -E \
		-e 's|key: .*|key: API_KEY|g' \
		-e 's|password: .*|password: PASSWORD|g' \
		-e 's/192\\.168\\.[0-9]+\\.[0-9]+/192.168.XXX.XXX/g'
	smudge = cat